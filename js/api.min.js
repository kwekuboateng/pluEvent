/*!
 * Start Bootstrap - SB Admin 2 v4.0.6 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 
 * Licensed under  (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function clickInput1(){document.getElementById("file").click()}function clickInput2(){document.getElementById("runinput").click()}function uploadLogo(){var e=new FormData,t=document.getElementById("file").files[0],n=new XMLHttpRequest;console.log(t,"file"),e.append("file",t),e.append("upload_preset","fy9bo9ll"),n.open("POST","https://api.cloudinary.com/v1_1/ds0zewglg/image/upload"),n.onload=()=>{if(200===n.status){document.getElementById("loading").style.display="none";var e=JSON.parse(n.response);document.getElementById("logo").src=e.secure_url,console.log(e.secure_url,"na this be logo")}else alert("Upload failed. Please try agian.")},document.getElementById("loading").style.display="inline-block",n.send(e)}function uploadProgramLineUp(){var e=new FormData,t=document.getElementById("runinput").files[0],n=new XMLHttpRequest;console.log(t,"file"),e.append("file",t),e.append("upload_preset","fy9bo9ll"),n.open("POST","https://api.cloudinary.com/v1_1/ds0zewglg/image/upload"),n.onload=()=>{if(200===n.status){document.getElementById("loading1").style.display="none";var e=JSON.parse(n.response);document.getElementById("plu").src=e.secure_url}else alert("Upload failed. Please try agian.")},document.getElementById("loading1").style.display="inline-block",n.send(e)}var baseUrl="https://marakesh-api.herokuapp.com";function createEvents(){var e=new XMLHttpRequest,t=`${baseUrl}/api/events`,n=JSON.stringify({name:document.querySelector("#eventName").value,createdBy:JSON.parse(localStorage.getItem("data")).id,logoUrl:document.querySelector("#logo").src,message:document.querySelector("#message2").value,description:document.querySelector("#description").value,submitMessage:document.querySelector("#submitMessage").value,ratingMessage:document.querySelector("#rating1").value,pluLink:document.querySelector("#plu").src});e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status)events=e.responseText,document.getElementById("loading3").style.display="none",localStorage.setItem("events",events),document.getElementById("formId").reset(),document.getElementById("desc").textContent="Successfully created event",(t=document.getElementById("toast")).className="show",setTimeout(function(){t.className=t.className.replace("show","")},6e3);else if(4==e.readyState&&400==e.status){var t;document.getElementById("desc").textContent="Fill all fields and try again",document.getElementById("img").src=logoUrl,(t=document.getElementById("toast")).className="show",setTimeout(function(){t.className=t.className.replace("show","")},6e3)}},document.getElementById("loading3").style.display="inline-block",e.send(n)}var tring=JSON.parse(localStorage.getItem("events")),globalCounter=0,tbody=document.getElementById("tbody");function example(){var e=JSON.parse(localStorage.getItem("events"));console.log(e,"data");var t=document.createElement("table");t.id="dataTable";var n=document.createElement("thead");t.appendChild(n);var a=document.createElement("tbody");t.appendChild(a);var l=document.createElement("tr"),o=(document.createElement("th"),document.createElement("th")),d=document.createElement("th"),s=document.createElement("th"),r=document.createElement("th"),i=document.createElement("th"),c=document.createElement("th"),m=document.createElement("th");o.innerHTML="Name",d.innerHTML="Logo",s.innerHTML="Message",r.innerHTML="Description",i.innerHTML="Rating Message",m.innerHTML="Submit Message",c.innerHTML="Attendant Page",l.appendChild(o),l.appendChild(s),l.appendChild(r),l.appendChild(i),l.appendChild(m),l.appendChild(d),l.appendChild(c),n.appendChild(l);for(var u=0;u<e.length;u++){var p=e[u].id,g=e[u].name,y=e[u].logoUrl,h=e[u].ratingMessage,E=e[u].description,v=e[u].message,f=e[u].pluLink,I=e[u].submitMessage,S=document.createElement("tr"),T=document.createElement("th"),b=document.createElement("th"),B=document.createElement("th"),C=document.createElement("th"),M=document.createElement("th"),w=document.createElement("th"),L=document.createElement("input");L.setAttribute("type","button"),L.setAttribute("name","Open"),L.setAttribute("value","Open"),L.classList.add("btn-primary"),L.setAttribute("onclick","window.open"+`("/attendant-reg.html?id=${p}&name=${g}&logoUrl=${y}&ratingMessage=${h}&submitMessage=${I}&description=${E}&message=${v}&pluLink=${f}")`);var N=document.createElement("img");N.src=y,N.width="100",N.height="70",T.appendChild(document.createTextNode(g)),B.appendChild(document.createTextNode(v)),C.appendChild(document.createTextNode(E)),M.appendChild(document.createTextNode(h)),w.appendChild(document.createTextNode(I)),b.appendChild(N),S.appendChild(T),S.appendChild(B),S.appendChild(C),S.appendChild(M),S.appendChild(w),S.appendChild(b),S.appendChild(L),a.appendChild(S)}document.querySelector("#dataTable").appendChild(t)}function login(){var e=new XMLHttpRequest,t=`${baseUrl}/api/users/login`,n=JSON.stringify({email:document.getElementById("exampleLoginEmail").value,password:document.getElementById("exampleLoginPassword").value});console.log(n,"params"),e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){4==e.readyState&&200==e.status?(data=e.responseText,document.getElementById("loading").innerHTML="","undefined"!=typeof Storage&&localStorage.setItem("data",data),window.location.href="/dashboard.html",console.log(e,"data")):4==e.readyState&&400==e.status&&(document.getElementById("loading").innerHTML="",alert("Please enter correct credentials and try again"))},document.getElementById("loading").innerHTML='<img src="https://sabarimala.keralartc.com/img/loading.gif" />',e.send(n)}function logout(){localStorage.clear(),window.location.href="/"}function register(){var e=new XMLHttpRequest,t=`${baseUrl}/api/users/register`,n=JSON.stringify({name:document.getElementById("exampleInputName").value,email:document.getElementById("exampleInputEmail").value,password:document.getElementById("exampleInputPassword").value});console.log(n,"params"),e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){4==e.readyState&&201==e.status?(data=e.responseText,document.getElementById("loading").innerHTML="",window.location.href="/index.html",console.log(e,"data")):console.log(e,"error")},document.getElementById("loading").innerHTML='<img src="https://sabarimala.keralartc.com/img/loading.gif" />',e.send(n)}function getEvents(){var e=new XMLHttpRequest,t=`${baseUrl}/api/users/${JSON.parse(localStorage.getItem("data")).id}`;e.open("GET",t,!0);const n=JSON.parse(localStorage.getItem("data")).token;e.setRequestHeader("Authorization","Bearer "+n),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(userEvents=JSON.parse(e.responseText),events=userEvents.events,document.getElementById("loading3").style.display="none","undefined"!=typeof Storage&&localStorage.setItem("events",JSON.stringify(events)),console.log(events,"events"))},document.getElementById("loading3").style.display="inline-block",e.send()}